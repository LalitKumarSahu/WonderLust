<% layout("layouts/boilerplate") %>

<div class="host-container">
  <!-- Left Section -->
  <div class="host-left">
    <div class="earning-section">
      <div class="earning-text">Your home could </div>
       <div class="earning-line">
        <div class="earning-text">make</div>
        <div class="earning-amount" id="earning">₹9,792</div>
      </div>
      <div class="earning-text">on Airbnb </div>
    </div>

    <p><span id="nights">30 nights</span> · <span id="price">₹3,264/night</span></p>

    <!-- Slider for nights -->
    <input type="range" id="nightSlider" min="1" max="30" step="1" value="1" />

    <div class="location-input">
      <input type="text" placeholder="Lucknow · Entire place · 2 bedrooms" />
    </div>
  </div>

  <!-- Right Section -->
  <div class="host-right">
    <div id="map">
      <iframe
        src="https://maps.google.com/maps?q=Lucknow&t=&z=12&ie=UTF8&iwloc=&output=embed"
        style="border:0; border-radius:12px;"
        allowfullscreen
        loading="lazy">
      </iframe>
    </div>
  </div>

  <!-- Bottom Section -->
  <div class="host-bottom">
    <div class="bottom-text">It’s easy to list</div>
    <div class="bottom-text">your home on Airbnb</div>

    <div class="bottom-image">
      <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSnXqm_UUj91VIWMeXz7k9rsRJt1m0iKoyd6w&s" alt="not found">
    </div>
  </div>
</div>

<script>
  const nightSlider = document.getElementById("nightSlider");
  const earning = document.getElementById("earning");
  const price = document.getElementById("price");
  const nightsEl = document.getElementById("nights");

  const perNightPrice = 3264; // fixed

  function updateNightUI() {
    const nights = parseInt(nightSlider.value);
    const total = perNightPrice * nights;

    // Update slider fill
    const percentage = ((nights - nightSlider.min) / (nightSlider.max - nightSlider.min)) * 100;
    nightSlider.style.background = `linear-gradient(to right, #ff4081 ${percentage}%, #ddd ${percentage}%)`;

    // Update UI
    nightsEl.textContent = `${nights} night${nights > 1 ? 's' : ''}`;
    earning.textContent = `₹${total}`;
    price.textContent = `₹${perNightPrice}/night`;
  }

  nightSlider.addEventListener("input", updateNightUI);
  updateNightUI();
</script>

<style>
  .host-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
    padding: 40px;
    align-items: start;
  }
  .host-left { display: flex; flex-direction: column; padding: 20px; }
  .earning-section { margin-bottom: 20px; }
  .earning-line { display: flex; align-items: baseline; gap: 10px; }
  .earning-text { font-size:5rem; font-weight: 500; }
  .earning-amount { font-size: 3rem; font-weight: bold; color: #ff4081; margin: 0; }
  .host-left p { font-size: 1.2rem; margin-bottom: 20px; }
  #nightSlider { width: 60%; margin: 20px 0; height: 10px; -webkit-appearance: none; background: linear-gradient(to right, #ff4081 50%, #ddd 50%); border-radius: 5px; outline: none; }
  #nightSlider::-webkit-slider-thumb { -webkit-appearance: none; width: 20px; height: 20px; background: pink; border-radius: 50%; border: 2px solid #ff4081; cursor: pointer; margin-top: -5px; }
  .location-input input { width: 60%; padding: 12px; border-radius: 25px; border: 1px solid #ccc; font-size: 1rem; }
  .host-right { height: 100%; }
  #map { width: 100%; height: 400px; border-radius: 12px; }
  #map iframe { width: 100%; height: 100%; min-height: 400px; }
  .host-bottom { grid-column: 1 / -1; display: flex; flex-direction: column; align-items: center; margin-top: 40px; text-align: center; gap: 20px; }
  .bottom-text { font-size: 4rem; font-weight: 400; }
  .bottom-image img { max-width: 100%; width: 600px; height: auto; border-radius: 12px; }
</style>
