<% layout("layouts/boilerplate") %>

<div class="container py-5">
  <div class="row">
    <!-- Sidebar (Tabs Navigation) -->
    <div class="col-md-3 mb-4">
      <div class="list-group shadow-sm rounded" id="profileTabs" role="tablist">
        <a href="#profile" class="list-group-item list-group-item-action active" data-bs-toggle="tab">Profile</a>
        <a href="#about" class="list-group-item list-group-item-action" data-bs-toggle="tab">About me</a>
        <a href="#trips" class="list-group-item list-group-item-action" data-bs-toggle="tab">Past trips</a>
        <a href="#connections" class="list-group-item list-group-item-action" data-bs-toggle="tab">Connections</a>
      </div>
    </div>

    <!-- Main Content -->
    <div class="col-md-9">
      <div class="tab-content">

        <!-- Profile Tab -->
        <div class="tab-pane fade show active" id="profile">
          <div class="card shadow-sm border-0 rounded-3 mb-4">
            <div class="card-body text-center">
              <div class="position-relative d-inline-block">
                <img src="<%= currUser.avatar || 'https://i.pravatar.cc/150?u=' + currUser._id %>" 
                    class="rounded-circle border shadow-sm"
                    width="120" height="120" alt="Profile Picture">
                <a href="/users/<%= currUser._id %>/edit" 
                  class="btn btn-sm btn-light border position-absolute top-0 end-0">
                  Edit
                </a>
              </div>
              <h3 class="mt-3"><%= currUser.username %></h3>
              <p class="text-muted">Guest</p>
            </div>
          </div>
        </div>

        <!-- About Me Tab -->
        <div class="tab-pane fade" id="about">
          <div class="card shadow-sm border-0 rounded-3 mb-4">
            <div class="card-body">
              <h5 class="mb-3">About me</h5>
              <p><%= user.about && user.about.trim() !== "" ? user.about : "No bio added yet." %></p>
            </div>
          </div>
        </div>

        <!-- Past Trips Tab -->
        <div class="tab-pane fade" id="trips">
          <div class="card shadow-sm border-0 rounded-3 mb-4">
            <div class="card-body">
              <h5 class="mb-3">Past trips</h5>
              <p class="text-muted">No trips yet</p>
            </div>
          </div>
        </div>

        <!-- Connections Tab -->
        <div class="tab-pane fade" id="connections">
          <div class="card shadow-sm border-0 rounded-3 mb-4">
            <div class="card-body">
              <h5 class="mb-3">Connections</h5>
              <p class="text-muted">No connections yet</p>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>
